# Low-latency PipeWire configuration for T14s
# Optimized for real-time audio work and sample browsing

context.properties = {
    default.clock.rate          = 48000
    default.clock.quantum       = 128      # 2.67ms latency @ 48kHz (down from 512 = 10.67ms)
    default.clock.min-quantum   = 64       # Allow apps to request lower
    default.clock.max-quantum   = 2048     # Maximum buffer size
}

context.modules = [
    {   name = libpipewire-module-rt
        args = {
            nice.level   = -11
            rt.prio      = 88
            rt.time.soft = 2000000
            rt.time.hard = 2000000
        }
        flags = [ ifexists nofail ]
    }
]

stream.properties = {
    node.latency             = 128/48000
    resample.quality         = 4           # Good quality resampling (1-15, higher = better)
}
