# Secure Crontab Example for T14s Backups
# Uses backup-wrapper.sh to source credentials from ~/.borg_credentials
#
# Setup:
# 1. Copy borg_credentials.example to ~/.borg_credentials and edit
# 2. chmod 600 ~/.borg_credentials
# 3. Copy backup-wrapper.sh to ~/bin/ and make executable
# 4. Install this crontab: crontab crontab-secure.example
#
# View with: crontab -l
# Edit with: crontab -e

SHELL=/bin/bash
PATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/home/ianfundere/bin
MAILTO=""

# Home directory backup - runs daily at 2 AM
0 2 * * * /home/ianfundere/bin/backup-wrapper.sh backup_t14s_home >> /home/ianfundere/logs/backup_home.log 2>&1

# System backup (Timeshift snapshots) - runs daily at 3 AM
0 3 * * * /home/ianfundere/bin/backup-wrapper.sh backup_t14s_sys >> /home/ianfundere/logs/backup_sys.log 2>&1

# Full drive backup - runs weekly on Sunday at 4 AM
0 4 * * 0 /home/ianfundere/bin/backup-wrapper.sh backup_full_sys >> /home/ianfundere/logs/backup_full.log 2>&1
