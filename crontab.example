# Crontab example for T14s backups
# Install with: crontab crontab.example
# View with: crontab -l
# Edit with: crontab -e

SHELL=/bin/bash
PATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:$HOME/bin
MAILTO=""

# Set these in your environment or create a wrapper script:
# BORG_PASSPHRASE='your-passphrase'
# BORG_REPO='user@host:repo'  # for home backups
# BORG_REPO_SYS='user@host:repo'  # for system backups
# BORG_REPO_FULL='user@host:repo'  # for full drive backups
# BACKUP_DRIVE='/media/$USER/backup_t7'

# Home directory backup - runs daily at 2 AM
0 2 * * * export BORG_PASSPHRASE='your-passphrase' && export BORG_REPO='user@host:repo' && $HOME/bin/backup_t14s_home >> $HOME/logs/backup_home.log 2>&1

# System backup (Timeshift snapshots) - runs daily at 3 AM
0 3 * * * export BORG_PASSPHRASE='your-passphrase' && export BORG_REPO_SYS='user@host:repo' && $HOME/bin/backup_t14s_sys >> $HOME/logs/backup_sys.log 2>&1

# Full drive backup - runs weekly on Sunday at 4 AM
0 4 * * 0 export BORG_PASSPHRASE='your-passphrase' && export BORG_REPO_FULL='user@host:repo' && export BACKUP_DRIVE='/media/$USER/backup_t7' && $HOME/bin/backup_full_sys >> $HOME/logs/backup_full.log 2>&1

# Note: For better security, consider using a wrapper script that sources
# environment variables from a protected file instead of embedding them here.
